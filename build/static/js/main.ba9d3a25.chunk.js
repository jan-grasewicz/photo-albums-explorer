(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,a){e.exports=a(44)},28:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(19),l=a.n(o),i=a(22),s=a(1),c=a(2),u=a(4),m=a(3),p=a(5),d=r.a.createContext(),h=d.Provider,b=d.Consumer,f=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={users:[],albums:[],photos:[],getUserDataByUserId:function(e){return a.state.users.find(function(t){return t.id===e})},getUserDataByAlbumId:function(e){var t=a.state.albums.find(function(t){return t.id===e});return a.state.getUserDataByUserId(void 0!==t&&t.userId)},getAlbumDataByAlbumId:function(e){return a.state.albums.find(function(t){return t.id===e})},getPhotosByAlbumId:function(e){return a.state.photos.filter(function(t){return t.albumId===e})},getFirstPhotoInAlbum:function(e){return a.state.getPhotosByAlbumId(e)[0]},getPhotoByPhotoId:function(e){return a.state.photos.filter(function(t){return t.id===e})[0]},isLoading:!0,error:null},a.abortController=new AbortController,a.usersPromise=fetch("https://jsonplaceholder.typicode.com/users",{signal:a.abortController.signal}).then(function(e){return e.json()}),a.albumsPromise=fetch("https://jsonplaceholder.typicode.com/albums",{signal:a.abortController.signal}).then(function(e){return e.json()}),a.photosPromise=fetch("https://jsonplaceholder.typicode.com/photos",{signal:a.abortController.signal}).then(function(e){return e.json()}),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;Promise.all([this.usersPromise,this.albumsPromise,this.photosPromise]).then(function(t){var a=Object(i.a)(t,3),n=a[0],r=a[1],o=a[2];e.setState({users:n}),e.setState({albums:r}),e.setState({photos:o})}).then(function(){return e.setState({error:null,isLoading:!1})}).catch(function(t){return e.setState({error:t.message,isLoading:!1})})}},{key:"componentWillUnmount",value:function(){this.abortController.abort()}},{key:"render",value:function(){return this.state.error&&console.error(this.state.error),r.a.createElement(h,{value:this.state},this.props.children)}}]),t}(n.Component),E=function(e){return function(t){return r.a.createElement(b,null,function(a){return r.a.createElement(e,Object.assign({},t,{appContext:a}))})}},_=a(7),v=a(11),g=(a(28),E(function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.id,n=e.userId,o=e.appContext,l=o.getUserDataByUserId,i=o.getFirstPhotoInAlbum,s=o.isLoading,c=l(n);return r.a.createElement("li",{className:"album-li"},r.a.createElement("div",{className:"album-li__img-container"},s?r.a.createElement("p",null,"Loading..."):r.a.createElement("img",{className:"album-li__img",src:i(a).thumbnailUrl,alt:"thumbnail"})),r.a.createElement("div",{className:"album-li__txt"},r.a.createElement(_.b,{to:"/album/".concat(a)},r.a.createElement("h3",{className:"album-li__title"},t)),n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null," by "),r.a.createElement(_.b,{to:"/user/".concat(n)},r.a.createElement("p",{className:"album-li__author"},void 0!==c&&c.username)))))}}]),t}(n.Component))),j=(a(37),E(function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.appContext,t=e.albums,a=e.isLoading;return r.a.createElement("div",{className:"top-bar-fix"},r.a.createElement("h2",{className:"albums__title"},"Albums"),a?r.a.createElement("p",null,"Loading..."):r.a.createElement("ul",{className:"albums__list"},t.map(function(e){return r.a.createElement(g,{key:e.id,id:e.id,title:e.title,userId:e.userId})})))}}]),t}(n.Component))),y=(a(38),E(function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={windowWidth:null},a.updateWindowDimensions=function(){a.setState({windowWidth:window.innerWidth})},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"render",value:function(){var e=this.props.match.params.albumId,t=this.state.windowWidth,a=this.props.appContext,n=a.getAlbumDataByAlbumId,o=a.getUserDataByAlbumId,l=a.getPhotosByAlbumId,i=a.isLoading,s=n(parseInt(e)),c=o(parseInt(e)),u=l(parseInt(e));return r.a.createElement("div",{className:"top-bar-fix"},i?r.a.createElement("p",null,"Loading..."):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"album__info"},r.a.createElement("h2",{className:"album__info__title"},void 0!==s&&s.title),r.a.createElement("span",{className:"album__info__span"}," by "),r.a.createElement(_.b,{to:"/user/".concat(void 0!==c&&c.id)},r.a.createElement("p",{className:"album__info__author"},void 0!==c&&c.username))),r.a.createElement("ul",{className:"album__photos"},u.map(function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(_.b,{to:"/photo/".concat(e.id)},r.a.createElement("img",{className:"album__photos__thumbnail",src:t>640?e.url:e.thumbnailUrl,alt:"thumbnail"})))}))))}}]),t}(n.Component))),O=(a(39),E(function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.appContext,t=e.getUserDataByAlbumId,a=e.getPhotoByPhotoId,n=e.isLoading,o=a(parseInt(this.props.match.params.photoId)),l=t(o&&o.albumId);return r.a.createElement("div",{className:"top-bar-fix"},n?r.a.createElement("p",null,"Loading..."):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"photo__display"},r.a.createElement("img",{className:"photo__img",src:o.url,alt:"fullsize"})),r.a.createElement("div",{className:"photo__info"},r.a.createElement("h3",{className:"photo__info__title"},o.title),r.a.createElement("span",{className:"photo__info__span"}," by "),r.a.createElement(_.b,{to:"/user/".concat(void 0!==l&&l.id)},r.a.createElement("p",{className:"photo__info__author"},void 0!==l&&l.username)))))}}]),t}(n.Component))),w=(a(40),E(function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.appContext,a=t.getUserDataByUserId,n=t.albums,o=t.isLoading,l=e.match,i=a(parseInt(l.params.userId));return r.a.createElement("div",{className:"top-bar-fix"},o?r.a.createElement("p",null,"Loading..."):r.a.createElement("div",{className:"profile"},void 0!==i&&r.a.createElement("div",{className:"profile__user-data"},r.a.createElement("h2",{className:"profile__user-data__title"},i.username,"'s Profile"),r.a.createElement("div",{className:"profile__user-data__content"},r.a.createElement("p",null,"full name: "),r.a.createElement("p",null,i.name),r.a.createElement("p",null,"e-mail: "),r.a.createElement("p",null,i.email),r.a.createElement("p",null,"website: "),r.a.createElement("p",null,i.website))),void 0!==i&&r.a.createElement("div",{className:"profile__albums-section"},r.a.createElement("h3",{className:"profile__albums-title"},i.username,"'s albums"),r.a.createElement("ul",{className:"profile__albums"},n.filter(function(e){return e.userId===i.id}).map(function(e){return r.a.createElement(g,{key:e.id,id:e.id,title:e.title})})))))}}]),t}(n.Component))),N=(a(41),function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"header"},r.a.createElement(_.b,{to:"/"},r.a.createElement("h1",{className:"header__app-name"},"XyZ")),r.a.createElement("p",{className:"header__app-desc"},"photo albums explorer"),r.a.createElement("button",{className:"header__btn",onClick:this.props.history.goBack},r.a.createElement("img",{className:"header__btn__img",src:"/arrowLeft.png",alt:"go back"})))}}]),t}(n.Component)),I=Object(v.e)(N),k=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.location.pathname!==e.location.pathname&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),t}(n.Component),C=Object(v.e)(k),P=(a(42),function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(_.a,null,r.a.createElement(I,null),r.a.createElement(C,null,r.a.createElement(v.c,null,r.a.createElement(v.a,{exact:!0,path:"/",component:j}),r.a.createElement(v.a,{path:"/album/:albumId",component:y}),r.a.createElement(v.a,{path:"/photo/:photoId",component:O}),r.a.createElement(v.a,{path:"/user/:userId",component:w}),r.a.createElement(v.a,{render:function(){return r.a.createElement("h3",null,"Page does not exist.")}})))))}}]),t}(n.Component));a(43),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(f,null,r.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[23,1,2]]]);
//# sourceMappingURL=main.ba9d3a25.chunk.js.map